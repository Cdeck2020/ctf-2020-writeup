DLC_CODES = ""

# check to see if the thing is 14 characters long & contains only things from the DLC_CODES variable
def vaildCharacters(inp: str) -> bool:
    global DLC_CODES
    if len(inp) == 14:
        keyBytes = list(filter(lambda x: x in DLC_CODES, inp))
        if len(keyBytes) == 14:
            return True
        else:
            return False
    else:
        return False

# grabs the first 5 letters in DLC_CODES and then reverses it, then takes the last one off of the new reversed string (technically list) and then re-concatenates them, and if the input is the same then its true
# the input is separated by the dashes so this one would be the first 4 letters
def checkPrefix(inp: str) -> bool:
    global DLC_CODES
    prefixChars = list(DLC_CODES[0:5])
    prefixChars.reverse()
    prefixChars.pop()
    prefixStr = "".join(prefixChars)
    if inp == prefixStr:
        return True
    else:
        return False

# gets the middle part, 4 characters, takes the first 2 letters, and the last 2, defines them, and then checks to see if the first two letters == last 2 letters
# if this is true then you fucked up, otherwise we move on, reverse the first 2 letters (so like AB would be BA) and then rechecks first two letters == last 2 letters
# if you did this right gj
def checkMain(inp: str) -> bool:
    global DLC_CODES
    half1 = list(inp[0:2])
    half2 = list(inp[2:4])
    if half1 == half2:
        return False
    else:
        half1.reverse()
        if half1 == half2:
            return True
        else:
            return False


#grabs all the numbers from DLC_CODES dont have any dupes so 9133 is bad but 9130 is ok
#ofc on the last part of your input 
def checkSuffix(inp: str) -> bool:
    global DLC_CODES
    dlcNums = list(filter(lambda x: ord(x) in range(48, 58), DLC_CODES))
    suffix = set(inp)
    res = list(filter(lambda x: x in dlcNums, suffix))
    if len(res) == 4:
        return True
    else:
        return False

# EKCB-LEEL-1234
def main():
    inp = input("DLC KEY:")
    if vaildCharacters(inp) == True:
        parts = inp.split('-')
        parts = list(filter(lambda x: len(x) == 4, parts))
        if checkPrefix(parts[0]) and checkMain(parts[1]) and checkSuffix(parts[2]):
            print("Congrats you have unlocked the magical spatula")
            return
    print("Invalid code")

if __name__ == "__main__":
    main()